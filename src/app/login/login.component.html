<mat-card class="example-card">
  <mat-card-header>
    <mat-card-title>Register your persol info</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="loginForm" #formDir="ngForm">

      <div [hidden]="formDir.submitted">
        <div class="form-group">
          <mat-form-field class="example-full-width">
            <input matInput placeholder="DNI" id="dni" class="form-control" formControlName="dni" required>
          </mat-form-field>
          <div *ngIf="fail.show" class="error-alert">
            <a class="error">DNI is duplicated.</a>
          </div>
          <div *ngIf="dni.invalid && (dni.dirty || dni.touched)" class="alert alert-danger">
            <div *ngIf="dni.errors.required">
              <a class="error">DNI is required.</a>
            </div>
            <div *ngIf="dni.errors.minlength">
              <a class="error">DNI must be at least 4 characters long.</a>
            </div>
            <div *ngIf="dni.errors.pattern">
              <a class="error">DNI must be numeric.</a>
            </div>
          </div>
        </div>

        <div class="form-group">
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Name" id="name" class="form-control" formControlName="name" required>
          </mat-form-field>
          <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">

            <div *ngIf="name.errors.required">
              <a class="error">Name is required.</a>
            </div>
            <div *ngIf="name.errors.minlength">
              <a class="error">Name must be at least 4 characters long.</a>
            </div>
          </div>
        </div>

        <div class="form-group">
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Last Name" id="lastName" class="form-control" formControlName="lastName" required>
          </mat-form-field>
          <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)" class="alert alert-danger">

            <div *ngIf="lastName.errors.required">
              <a class="error">Last name is required.</a>
            </div>
            <div *ngIf="lastName.errors.minlength">
              <a class="error">Last name must be at least 4 characters long.</a>
            </div>
          </div>
        </div>

        <div class="form-group">
          <mat-form-field>
            <input matInput [matDatepicker]="picker" placeholder="Your Birthdate " [max]="maxDate" class="form-control" formControlName="birthdate"
              required>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <div *ngIf="birthdate.invalid && (birthdate.dirty || birthdate.touched)" class="alert alert-danger">

            <div *ngIf="birthdate.errors.required">
                <a class="error">Your age is required.</a>              
            </div>
            <div *ngIf="birthdate.errors.max">
                <a class="error">Your birthdate is incorrect.</a>              
            </div>
            <div *ngIf="birthdate.errors.forbiddenAge">
                <a class="error">Your age must be at least 18 years old.</a>              
            </div>
          </div>
        </div>
      </div>
    </form>
    <div>
      <div *ngIf="!fail.show">
        <div *ngIf="fail.name !== ''">
          <a class="result">Saved succesfully.</a>
        </div>
      </div>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button type="submit" (click)="login()" [disabled]="!loginForm.valid" color="primary">Login</button>
  </mat-card-actions>
</mat-card>